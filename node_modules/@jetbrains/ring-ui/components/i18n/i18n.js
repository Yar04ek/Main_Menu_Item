import defaultMessages from './messages.json';
let messages = defaultMessages;
const warned = new Set();
function warnMissedKeyOnce(key) {
    if (warned.has(key)) {
        return;
    }
    warned.add(key);
    // eslint-disable-next-line no-console
    console.warn(`Missing localisation for key "${key}"`);
}
export function setTranslations(newMessages) {
    messages = newMessages;
}
export function getTranslations() {
    return messages;
}
export function getTranslationsWithFallback() {
    return { ...defaultMessages, ...messages };
}
export function translate(key) {
    if (!(key in messages)) {
        warnMissedKeyOnce(key);
    }
    return messages[key] ?? defaultMessages[key];
}
